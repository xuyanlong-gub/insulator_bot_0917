# CMD 表

| CMD | 内容 |
|-----|------|
| 0   | 开机/自检 |
| 1   | 准备就绪 |
| 2   | 上行采样 |
| 3   | 检测到顶端TOP |
| 4   | 读到STATUS=4，CMD=4 |
| 5   | 当STATUS=5时，开始发送每段的清洗数据 |
| 6   | 等待当前端清洗结束 |
| 7   | 结束 |

# STATUS 表

| STATUS | 内容 |
|--------|------|
| 0      | 初始化/自检 |
| 1      | 准备就绪 |
| 2      | 按下开关后置为2 |
| 3      | 停止上升 |
| 4      | 到达最大伸长高度 |
| 5      | 等待数据 |
| 6      | 清洗中 |
| 7      | 结束清洗 |

# 寄存器表

| 名称      | 类型   | 占regs | 责任方 | 说明 |
|-----------|--------|--------|--------|------|
| VERSION   | INT    | 1      | PLC    | 版本对齐 |
| CMD       | INT    | 1      | HOST   | 当前命令 |
| STATUS    | INT    | 1      | PLC    | 状态位 |
| Z         | float  | 2      | PLC    | 采样时返回的高度Z |
| Z_SIGNAL  | DINT   | 2      | HOST   | 采样信号，当上行采样时，HOST发送该信号时，PLC即刻知道该返回高度 |
| H0        | float  | 2      | HOST   | 下降清洗时，每段的清洗初始高度 |
| Delta_H   | float  | 2      | HOST   | 每次清洗的偏移量 |
| N         | DINT   | 2      | HOST   | 该偏移量清洗的次数 |
| DIS       | float  | 2      | HOST   | 由测距模块得到的信息 |
| HEART     | INT    | 1      | HOST   | 心跳 |
